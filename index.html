<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mono - Record from any app</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Record audio from any app and manage all your recordings in one place. AI-powered features with no subscription — just a one-time payment.">
    <meta name="keywords" content="audio recorder, screen recording, app recording, AI transcription, voice recorder, meeting recorder, podcast recording">
    <meta name="author" content="mono">
    <link rel="canonical" href="https://d-lef.github.io/mono-app/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://d-lef.github.io/mono-app/">
    <meta property="og:title" content="mono - Record from any app">
    <meta property="og:description" content="Record audio from any app and manage all your recordings in one place. AI-powered features with no subscription.">
    <meta property="og:site_name" content="mono">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://d-lef.github.io/mono-app/">
    <meta name="twitter:title" content="mono - Record from any app">
    <meta name="twitter:description" content="Record audio from any app and manage all your recordings in one place. AI-powered features with no subscription.">

    <!-- Additional SEO -->
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "mono",
        "description": "Record audio from any app and manage all your recordings in one place. AI-powered features with no subscription.",
        "url": "https://d-lef.github.io/mono-app/",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Windows",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR",
            "description": "Free with optional one-time payment for AI features"
        }
    }
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-61BNYMZ7FD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-61BNYMZ7FD');
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MuseoModerno:wght@300;400;500&family=Comfortaa:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Dark theme (default) */
        :root {
            --bg-primary: #252525;
            --bg-secondary: #2D2D2D;
            --bg-hover: #3A3A3A;
            --bg-pressed: #454545;
            --accent: #E0E0E0;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
        }

        /* Light theme - system preference */
        @media (prefers-color-scheme: light) {
            :root:not(.dark) {
                --bg-primary: #F5F5F5;
                --bg-secondary: #FFFFFF;
                --bg-hover: #E0E0E0;
                --bg-pressed: #D0D0D0;
                --accent: #424242;
                --text-primary: #212121;
                --text-secondary: #757575;
            }
        }

        /* Light theme - manual override */
        :root.light {
            --bg-primary: #F5F5F5;
            --bg-secondary: #FFFFFF;
            --bg-hover: #E0E0E0;
            --bg-pressed: #D0D0D0;
            --accent: #424242;
            --text-primary: #212121;
            --text-secondary: #757575;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Comfortaa', sans-serif;
            font-weight: 400;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* Hero Section - Full viewport, centered */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Logo */
        .logo {
            height: clamp(36px, 10vw, 60px);
            width: auto;
            user-select: none;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        body.loaded .logo {
            opacity: 1;
        }

        /* Dark theme (default): show white logo */
        .logo-dark { display: block; }
        .logo-light { display: none; }

        /* Light theme - manual override */
        :root.light .logo-dark { display: none; }
        :root.light .logo-light { display: block; }

        /* Light theme - system preference */
        @media (prefers-color-scheme: light) {
            :root:not(.dark) .logo-dark { display: none; }
            :root:not(.dark) .logo-light { display: block; }
        }

        .logo-subtitle {
            font-size: clamp(14px, 3vw, 20px);
            color: var(--text-secondary);
            margin-top: 16px;
            letter-spacing: 0.05em;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        body.loaded .logo-subtitle {
            opacity: 1;
        }

        .logo-subtitle.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Tagline container - holds swappable groups */
        .tagline-container {
            position: absolute;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            height: 50px;
        }

        .tagline-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            opacity: 0;
            transition: opacity 0.25s ease;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap;
        }

        .tagline-group.visible {
            opacity: 1;
        }

        .tagline {
            text-align: center;
            font-size: clamp(10px, 3.5vw, 20px);
            color: var(--text-secondary);
            line-height: 1.4;
            margin: 0;
            pointer-events: none;
            white-space: nowrap;
        }

        /* Scroll indicator - positioned just below logo */
        .scroll-indicator {
            position: absolute;
            bottom: 30%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: bounce 2s ease-in-out infinite;
            transition: opacity 0.25s ease;
        }

        @media (max-width: 768px) {
            .scroll-indicator {
                bottom: 35%;
            }

            /* Shift content up to visually center below nav bar */
            .logo-group {
                margin-top: -10vh;
            }

            .tagline-container {
                top: 45%;
            }

            /* Tighter table on mobile with text wrapping */
            .compare-table {
                max-width: 95vw;
            }

            .compare-table td {
                padding: 4px 8px;
            }

            .compare-table .them,
            .compare-table .us {
                white-space: normal;
                word-wrap: break-word;
            }

            .compare-table .vs {
                padding: 4px 10px;
                white-space: nowrap;
            }

            .compare-table .category {
                padding-top: 28px;
            }
        }

        body.loaded .scroll-indicator.visible {
            opacity: 0.4;
        }

        .scroll-indicator svg {
            width: 24px;
            height: 24px;
            stroke: var(--text-secondary);
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        /* Theme toggle button */
        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background-color: var(--bg-hover);
        }

        .theme-toggle:active {
            background-color: var(--bg-pressed);
        }

        .theme-toggle:not(:active):not(:hover) {
            transition: background-color 0.15s ease;
        }

        .theme-toggle svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-secondary);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Show sun in dark mode, moon in light mode */
        .theme-toggle .icon-sun { display: block; }
        .theme-toggle .icon-moon { display: none; }

        /* Light theme icons - manual override */
        :root.light .theme-toggle .icon-sun { display: none; }
        :root.light .theme-toggle .icon-moon { display: block; }

        /* Light theme icons - system preference */
        @media (prefers-color-scheme: light) {
            :root:not(.dark) .theme-toggle .icon-sun { display: none; }
            :root:not(.dark) .theme-toggle .icon-moon { display: block; }
        }

        /* Logo group - container for logo and subtitle */
        .logo-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.5s ease, opacity 0.3s ease;
        }

        .logo-group.at-top {
            transform: translateY(-38vh) scale(0.4);
        }

        @media (max-width: 768px) {
            .logo-group.at-top {
                transform: translateY(-34vh) scale(0.4);
            }
        }

        .logo-group.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* YouTube container */
        .video-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: min(85vw, 960px);
            aspect-ratio: 16 / 9;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .video-container.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .video-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 12px;
        }

        /* Buy container */
        .buy-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 24px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            background-color: var(--bg-primary);
        }

        .buy-container.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .buy-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 28px;
            font-family: 'Comfortaa', sans-serif;
            font-size: clamp(10px, 3.5vw, 20px);
            font-weight: 500;
            color: var(--bg-primary);
            background-color: var(--text-primary);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            transition: transform 0.15s ease, opacity 0.15s ease;
        }

        .buy-button:hover {
            transform: scale(1.02);
            opacity: 0.9;
        }

        .buy-button:active {
            transform: scale(0.98);
        }

        .brand-name {
            font-family: 'MuseoModerno', sans-serif;
            font-weight: 300;
        }

        .buy-price {
            font-size: clamp(10px, 3.5vw, 20px);
            color: var(--text-secondary);
        }

        .buy-notes {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 28px;
        }

        .buy-note {
            font-size: clamp(11px, 2.8vw, 15px);
            color: var(--text-primary);
        }

        .buy-note-group {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            max-width: 420px;
            text-align: left;
            padding: 0 20px;
        }

        .buy-note-symbol {
            font-size: clamp(12px, 2.8vw, 15px);
            color: var(--text-primary);
            flex-shrink: 0;
        }

        .buy-note-content {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }



        /* Home button - always visible, centered between theme and language */
        .home-button {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .home-button:hover {
            background-color: var(--bg-hover);
        }

        .home-button:active {
            background-color: var(--bg-pressed);
        }

        .home-button svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-secondary);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        
        /* Language selector */
        .lang-selector {
            position: fixed;
            top: 20px;
            left: calc(50% + 66px);
            transform: translateX(-50%);
            z-index: 100;
        }

        .lang-button {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Comfortaa', sans-serif;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .lang-button:hover {
            background-color: var(--bg-hover);
        }

        .lang-button:active {
            background-color: var(--bg-pressed);
        }

        .lang-dropdown {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 8px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            padding: 4px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.15s ease, visibility 0.15s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .lang-selector.open .lang-dropdown {
            opacity: 1;
            visibility: visible;
        }

        .lang-option {
            display: block;
            width: 100%;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background: transparent;
            cursor: pointer;
            font-family: 'Comfortaa', sans-serif;
            font-size: 13px;
            color: var(--text-primary);
            text-align: left;
            white-space: nowrap;
        }

        .lang-option:hover {
            background-color: var(--bg-hover);
        }

        .lang-option.active {
            color: var(--text-secondary);
        }

        /* Privacy link */
        .privacy-link {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            font-size: 11px;
            color: var(--text-secondary);
            text-decoration: none;
            opacity: 0.6;
            transition: opacity 0.15s ease;
        }

        .privacy-link:hover {
            opacity: 1;
        }

        /* Move theme toggle left to make room for 4 buttons */
        .theme-toggle {
            left: calc(50% - 66px);
        }

        /* Adjust home button position */
        .home-button {
            left: calc(50% - 22px);
        }

        /* Nav buy button */
        .nav-buy-button {
            position: fixed;
            top: 20px;
            left: calc(50% + 22px);
            transform: translateX(-50%);
            z-index: 100;
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-buy-button:hover {
            background-color: var(--bg-hover);
        }

        .nav-buy-button:active {
            background-color: var(--bg-pressed);
        }

        .nav-buy-button svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-secondary);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Allow wrapping only for overflowing taglines */
        .tagline.wrap-text {
            white-space: normal;
            padding: 0 20px;
        }

        /* Comparison table */
        .compare-table {
            margin-top: 24px;
            border-collapse: collapse;
            font-size: clamp(12px, 2.5vw, 16px);
        }

        .compare-table td {
            padding: 5px 12px;
            vertical-align: middle;
        }

        .compare-table .them {
            color: var(--text-secondary);
            text-align: right;
            opacity: 0.5;
        }

        .compare-table .vs {
            color: var(--text-secondary);
            padding: 8px 16px;
            opacity: 0.4;
        }

        .compare-table .us {
            color: var(--text-primary);
            text-align: left;
            font-weight: 500;
        }

        .compare-table .category-row {
            height: 32px;
        }

        .compare-table .category {
            color: var(--text-secondary);
            text-align: center;
            padding-top: 36px;
            padding-bottom: 8px;
            font-weight: 700;
            opacity: 0.7;
            border-bottom: 1px solid var(--text-secondary);
        }

        .compare-table tr:first-child .category {
            padding-top: 0;
        }

    </style>
</head>
<body>
    <button class="theme-toggle" aria-label="Toggle theme">
        <svg class="icon-moon" viewBox="0 0 24 24">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
        <svg class="icon-sun" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
    </button>

    <button class="home-button" aria-label="Go home">
        <svg viewBox="0 0 24 24">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
    </button>

    <button class="nav-buy-button" aria-label="Buy">
        <svg viewBox="0 0 24 24">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
    </button>

    <div class="lang-selector">
        <button class="lang-button" aria-label="Select language">EN</button>
        <div class="lang-dropdown">
            <button class="lang-option active" data-lang="en">English</button>
            <button class="lang-option" data-lang="es">Español</button>
            <button class="lang-option" data-lang="fr">Français</button>
            <button class="lang-option" data-lang="de">Deutsch</button>
            <button class="lang-option" data-lang="zh">中文</button>
            <button class="lang-option" data-lang="ru">Русский</button>
        </div>
    </div>

    <section class="hero">
        <div class="content">
            <div class="logo-group">
                <img src="logo-white.png" alt="mono" class="logo logo-dark">
                <img src="logo-black.png" alt="mono" class="logo logo-light">
                <p class="logo-subtitle">Record meetings from any app</p>
            </div>

            <div class="scroll-indicator">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 5v14M5 12l7 7 7-7"/>
                </svg>
            </div>

            <div class="tagline-container">
                <div class="tagline-group group-1">
                    <p class="tagline">For people who want to record meetings from any app</p>
                    <p class="tagline">and manage recordings in one place</p>
                </div>
                <div class="tagline-group group-2">
                    <p class="tagline">No-subscription culture:</p>
                    <p class="tagline">AI features with one-time payment</p>
                </div>
                <div class="tagline-group group-3">
                    <table class="compare-table">
                        <tr class="category-row">
                            <td class="category" colspan="3">Zoom, Google Meet, MS Teams</td>
                        </tr>
                        <tr>
                            <td class="them">Record in each app</td>
                            <td class="vs">→</td>
                            <td class="us">All in one place</td>
                        </tr>
                        <tr class="category-row">
                            <td class="category" colspan="3">WhatsApp, Telegram, Discord</td>
                        </tr>
                        <tr>
                            <td class="them">No native recording</td>
                            <td class="vs">→</td>
                            <td class="us">Record everything</td>
                        </tr>
                        <tr class="category-row">
                            <td class="category" colspan="3">Otter, Fireflies, Fathom</td>
                        </tr>
                        <tr>
                            <td class="them">Bot joins your call</td>
                            <td class="vs">→</td>
                            <td class="us">Invisible recording</td>
                        </tr>
                        <tr>
                            <td class="them">Cloud processing</td>
                            <td class="vs">→</td>
                            <td class="us">On your device</td>
                        </tr>
                        <tr class="category-row">
                            <td class="category" colspan="3">Krisp, Tactiq</td>
                        </tr>
                        <tr>
                            <td class="them">Monthly subscription</td>
                            <td class="vs">→</td>
                            <td class="us">One-time payment</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- YouTube video section -->
        <div class="video-container">
            <iframe
                src="https://www.youtube.com/embed/Imy_H4gUr8I?rel=0"
                title="mono demo"
                referrerpolicy="strict-origin-when-cross-origin"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen>
            </iframe>
        </div>

        <!-- Buy section -->
        <div class="buy-container">
            <a href="https://buy.polar.sh/polar_cl_nkpagGRrKv1j0VVif4wPQqWJH3frKM6qSjoOB2FsWXO"
               class="buy-button"
               id="buyButton"
               target="_blank"
               rel="noopener">
                <span class="buy-text">Buy <span class="brand-name">mono</span></span>
            </a>
            <p class="buy-price" id="buyPrice">$50 · One-time payment</p>


            <div class="buy-notes" id="buyNotes">
                <div class="buy-note-group">
                    <span class="buy-note-symbol">①</span>
                    <div class="buy-note-content">
                        <p class="buy-note">For Mac and Windows</p>
                        <p class="buy-note">Lifetime updates</p>
                        <p class="buy-note">On lower-end hardware, local AI may run slowly. You can use the app without AI, or connect external providers (OpenAI, Google Gemini) via API.</p>
                    </div>
                </div>
                <div class="buy-note-group">
                    <span class="buy-note-symbol">②</span>
                    <div class="buy-note-content">
                        <p class="buy-note">Your purchase supports independent development. The app is not code-signed yet, so your system may ask for permission to run an unverified app.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <a href="privacy.html" class="privacy-link">Privacy Policy</a>

    <script>
        // Theme toggle
        const themeToggle = document.querySelector('.theme-toggle');
        const root = document.documentElement;

        function isLightMode() {
            if (root.classList.contains('light')) return true;
            if (root.classList.contains('dark')) return false;
            return window.matchMedia('(prefers-color-scheme: light)').matches;
        }

        themeToggle.addEventListener('click', () => {
            if (isLightMode()) {
                root.classList.remove('light');
                root.classList.add('dark');
            } else {
                root.classList.remove('dark');
                root.classList.add('light');
            }
        });

        // Wait for font to load before showing content
        document.fonts.ready.then(() => {
            document.body.classList.add('loaded');
        });

        const group1 = document.querySelector('.group-1');
        const group2 = document.querySelector('.group-2');
        const group3 = document.querySelector('.group-3');
        const scrollIndicator = document.querySelector('.scroll-indicator');
        const logoGroup = document.querySelector('.logo-group');
        const logoSubtitle = document.querySelector('.logo-subtitle');
        const videoContainer = document.querySelector('.video-container');
        const buyContainer = document.querySelector('.buy-container');
        const buyButton = document.getElementById('buyButton');
        const buyText = buyButton.querySelector('.buy-text');
        const buyPrice = document.getElementById('buyPrice');
        const buyNotesContainer = document.getElementById('buyNotes');

        // Home button
        const homeButton = document.querySelector('.home-button');
        homeButton.addEventListener('click', () => {
            currentState = 0;
            updateVisibility();
        });

        // Nav buy button - scroll to buy screen
        const navBuyButton = document.querySelector('.nav-buy-button');
        navBuyButton.addEventListener('click', () => {
            currentState = 5;
            updateVisibility();
        });

        // States: 0 = nothing, 1 = group1, 2 = group2, 3 = group3 (positioning), 4 = video, 5 = form
        let currentState = 0;

        // Scroll handling - fixed cooldown + higher threshold after cooldown
        let lastTriggerTime = 0;
        const SCROLL_COOLDOWN = 600; // Fixed cooldown in ms
        const INITIAL_THRESHOLD = 10; // deltaY threshold for first trigger
        const RETRIGGER_THRESHOLD = 40; // Higher threshold after cooldown (filters weak kinetic events)

        function updateVisibility() {
            group1.classList.remove('visible');
            group2.classList.remove('visible');
            group3.classList.remove('visible');
            scrollIndicator.classList.remove('visible');
            videoContainer.classList.remove('visible');
            buyContainer.classList.remove('visible');

            // Update body class for CSS state targeting
            document.body.classList.remove('state-0', 'state-1', 'state-2', 'state-3', 'state-4', 'state-5');
            document.body.classList.add('state-' + currentState);

            if (currentState === 0) {
                scrollIndicator.classList.add('visible');
                logoGroup.classList.remove('hidden', 'at-top');
            } else if (currentState === 1) {
                group1.classList.add('visible');
                logoGroup.classList.remove('hidden');
                logoGroup.classList.add('at-top');
            } else if (currentState === 2) {
                group2.classList.add('visible');
                logoGroup.classList.remove('hidden');
                logoGroup.classList.add('at-top');
            } else if (currentState === 3) {
                group3.classList.add('visible');
                logoGroup.classList.remove('hidden');
                logoGroup.classList.add('at-top');
            } else if (currentState === 4) {
                logoGroup.classList.add('hidden');
                videoContainer.classList.add('visible');
            } else if (currentState === 5) {
                logoGroup.classList.add('hidden');
                buyContainer.classList.add('visible');
            }
        }

        // Set initial state on load
        document.fonts.ready.then(() => {
            updateVisibility();
        });

        // Scroll handling: fixed cooldown + higher threshold for retrigger
        window.addEventListener('wheel', (e) => {
            e.preventDefault();

            const now = Date.now();
            const timeSinceTrigger = now - lastTriggerTime;
            const inCooldown = timeSinceTrigger < SCROLL_COOLDOWN;

            // During cooldown, ignore all scroll events
            if (inCooldown) return;

            // After cooldown, require higher threshold (filters dying kinetic scroll)
            const threshold = lastTriggerTime === 0 ? INITIAL_THRESHOLD : RETRIGGER_THRESHOLD;
            if (Math.abs(e.deltaY) < threshold) return;

            if (e.deltaY > 0 && currentState < 5) {
                currentState++;
                updateVisibility();
                lastTriggerTime = now;
            } else if (e.deltaY < 0 && currentState > 0) {
                currentState--;
                updateVisibility();
                lastTriggerTime = now;
            }
        }, { passive: false });

        // Touch support for mobile
        let touchStartY = 0;
        let lastTouchTrigger = 0;

        window.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        window.addEventListener('touchend', (e) => {
            const now = Date.now();
            if (now - lastTouchTrigger < 400) return;

            const deltaY = touchStartY - e.changedTouches[0].clientY;
            if (deltaY > 50 && currentState < 5) {
                currentState++;
                updateVisibility();
                lastTouchTrigger = now;
            } else if (deltaY < -50 && currentState > 0) {
                currentState--;
                updateVisibility();
                lastTouchTrigger = now;
            }
        }, { passive: true });

        // Click to advance (like scrolling down)
        let lastClickTrigger = 0;
        document.addEventListener('click', (e) => {
            // Don't trigger on buttons or iframes
            if (e.target.closest('button, iframe, a, .lang-selector')) return;

            const now = Date.now();
            if (now - lastClickTrigger < 400) return;

            if (currentState < 5) {
                currentState++;
                updateVisibility();
                lastClickTrigger = now;
            }
        });

        // Keyboard navigation (up/down arrows)
        let lastKeyTrigger = 0;
        document.addEventListener('keydown', (e) => {
            if (e.key !== 'ArrowDown' && e.key !== 'ArrowUp') return;
            e.preventDefault();

            const now = Date.now();
            if (now - lastKeyTrigger < 400) return;

            if (e.key === 'ArrowDown' && currentState < 5) {
                currentState++;
                updateVisibility();
                lastKeyTrigger = now;
            } else if (e.key === 'ArrowUp' && currentState > 0) {
                currentState--;
                updateVisibility();
                lastKeyTrigger = now;
            }
        });

        // Language support
        const translations = {
            en: {
                subtitle: "Record meetings from any app",
                tagline1a: "For people who want to record meetings from any app",
                tagline1b: "and manage recordings in one place",
                tagline2a: "No-subscription culture:",
                tagline2b: "AI features with one-time payment",
                tagline3header: "Unlike other meeting tools",
                compare: [
                    { category: "Zoom, Google Meet, MS Teams" },
                    { them: "Record in each app", us: "All in one place" },
                    { category: "WhatsApp, Telegram, Discord" },
                    { them: "No native recording", us: "Record everything" },
                    { category: "Otter, Fireflies, Fathom" },
                    { them: "Bot joins your call", us: "Invisible recording" },
                    { them: "Cloud processing", us: "On your device" },
                    { category: "Krisp, Tactiq" },
                    { them: "Monthly subscription", us: "One-time payment" }
                ],
                code: "EN",
                video: "Imy_H4gUr8I",
                buyText: "Buy <span class=\"brand-name\">mono</span>",
                buyPrice: "$50 · One-time payment",
                buyNotes: ["For Mac and Windows", "Lifetime updates", "On lower-end hardware, local AI may run slowly. You can use the app without AI, or connect external providers (OpenAI, Google Gemini) via API.", "Your purchase supports independent development. The app is not code-signed yet, so your system may ask for permission to run an unverified app."],
                privacyPolicy: "Privacy Policy"
            },
            es: {
                subtitle: "Graba reuniones desde cualquier app",
                tagline1a: "Para quienes quieren grabar reuniones desde cualquier app",
                tagline1b: "y gestionar todo en un solo lugar",
                tagline2a: "Sin suscripciones:",
                tagline2b: "Funciones IA con pago único",
                tagline3header: "A diferencia de otras herramientas",
                compare: [
                    { category: "Zoom, Google Meet, MS Teams" },
                    { them: "Grabar en cada app", us: "Todo en un solo lugar" },
                    { category: "WhatsApp, Telegram, Discord" },
                    { them: "Sin grabación nativa", us: "Graba todo" },
                    { category: "Otter, Fireflies, Fathom" },
                    { them: "Bot en tu llamada", us: "Grabación invisible" },
                    { them: "Procesamiento en la nube", us: "En tu dispositivo" },
                    { category: "Krisp, Tactiq" },
                    { them: "Suscripción mensual", us: "Pago único" }
                ],
                code: "ES",
                video: "-wmQvwh6vqc",
                buyText: "Comprar <span class=\"brand-name\">mono</span>",
                buyPrice: "$50 · Pago único",
                buyNotes: ["Para Mac y Windows", "Actualizaciones de por vida", "En hardware básico, la IA local puede ser lenta. Puedes usar la app sin IA, o conectar proveedores externos (OpenAI, Google Gemini) vía API.", "Tu compra apoya el desarrollo independiente. La app aún no está firmada, por lo que tu sistema puede pedir permiso para ejecutar una app no verificada."],
                privacyPolicy: "Política de Privacidad"
            },
            ru: {
                subtitle: "Записывай встречи из любого приложения",
                tagline1a: "Для тех, кто хочет записывать встречи из любого приложения",
                tagline1b: "и хранить всё в одном месте",
                tagline2a: "Без подписок:",
                tagline2b: "ИИ-функции за разовый платёж",
                tagline3header: "В отличие от других",
                compare: [
                    { category: "Zoom, Google Meet, MS Teams" },
                    { them: "Запись в каждом приложении", us: "Всё в одном месте" },
                    { category: "WhatsApp, Telegram, Discord" },
                    { them: "Нет встроенной записи", us: "Записывай всё" },
                    { category: "Otter, Fireflies, Fathom" },
                    { them: "Бот в звонке", us: "Невидимая запись" },
                    { them: "Обработка в облаке", us: "На вашем устройстве" },
                    { category: "Krisp, Tactiq" },
                    { them: "Ежемесячная подписка", us: "Разовый платёж" }
                ],
                code: "RU",
                video: "nmVnfocQYQA",
                buyText: "Купить <span class=\"brand-name\">mono</span>",
                buyPrice: "$50 · Разовый платёж",
                buyNotes: ["Для Mac и Windows", "Пожизненные обновления", "На слабом железе локальный ИИ может работать медленно. Можно использовать приложение без ИИ или подключить внешние сервисы (OpenAI, Google Gemini) через API.", "Ваша покупка поддерживает независимую разработку. Приложение пока не подписано, поэтому система может запросить разрешение на запуск непроверенного приложения."],
                privacyPolicy: "Политика конфиденциальности"
            },
            fr: {
                subtitle: "Enregistrez vos réunions depuis n'importe quelle app",
                tagline1a: "Pour ceux qui veulent enregistrer leurs réunions depuis n'importe quelle app",
                tagline1b: "et tout gérer au même endroit",
                tagline2a: "Zéro abonnement :",
                tagline2b: "Fonctions IA pour un paiement unique",
                tagline3header: "Contrairement aux autres outils",
                compare: [
                    { category: "Zoom, Google Meet, MS Teams" },
                    { them: "Enregistrer dans chaque app", us: "Tout au même endroit" },
                    { category: "WhatsApp, Telegram, Discord" },
                    { them: "Pas d'enregistrement natif", us: "Enregistrez tout" },
                    { category: "Otter, Fireflies, Fathom" },
                    { them: "Bot dans l'appel", us: "Enregistrement invisible" },
                    { them: "Traitement cloud", us: "Sur votre appareil" },
                    { category: "Krisp, Tactiq" },
                    { them: "Abonnement mensuel", us: "Paiement unique" }
                ],
                code: "FR",
                video: "Nv6x_nkKlN8",
                buyText: "Acheter <span class=\"brand-name\">mono</span>",
                buyPrice: "50 $ · Paiement unique",
                buyNotes: ["Pour Mac et Windows", "Mises à jour à vie", "Sur du matériel modeste, l'IA locale peut être lente. Vous pouvez utiliser l'app sans IA, ou connecter des fournisseurs externes (OpenAI, Google Gemini) via API.", "Votre achat soutient le développement indépendant. L'app n'est pas encore signée, votre système peut donc demander l'autorisation d'exécuter une app non vérifiée."],
                privacyPolicy: "Politique de confidentialité"
            },
            de: {
                subtitle: "Meetings aus jeder App aufnehmen",
                tagline1a: "Für alle, die Meetings aus jeder App aufnehmen wollen",
                tagline1b: "und alles an einem Ort verwalten",
                tagline2a: "Ohne Abo:",
                tagline2b: "KI-Funktionen zum Einmalpreis",
                tagline3header: "Anders als andere Tools",
                compare: [
                    { category: "Zoom, Google Meet, MS Teams" },
                    { them: "In jeder App aufnehmen", us: "Alles an einem Ort" },
                    { category: "WhatsApp, Telegram, Discord" },
                    { them: "Keine native Aufnahme", us: "Alles aufnehmen" },
                    { category: "Otter, Fireflies, Fathom" },
                    { them: "Bot im Anruf", us: "Unsichtbare Aufnahme" },
                    { them: "Cloud-Verarbeitung", us: "Auf deinem Gerät" },
                    { category: "Krisp, Tactiq" },
                    { them: "Monatsabo", us: "Einmalzahlung" }
                ],
                code: "DE",
                video: "XK5-sXCDfl4",
                buyText: "<span class=\"brand-name\">mono</span> kaufen",
                buyPrice: "$50 · Einmalzahlung",
                buyNotes: ["Für Mac und Windows", "Lebenslange Updates", "Auf schwächerer Hardware kann die lokale KI langsam laufen. Sie können die App ohne KI nutzen oder externe Anbieter (OpenAI, Google Gemini) per API verbinden.", "Ihr Kauf unterstützt unabhängige Entwicklung. Die App ist noch nicht signiert, daher kann Ihr System um Erlaubnis bitten, eine nicht verifizierte App auszuführen."],
                privacyPolicy: "Datenschutzrichtlinie"
            },
            zh: {
                subtitle: "录制会议，来自任何应用",
                tagline1a: "录制会议，来自任何应用",
                tagline1b: "一处管理，井井有条",
                tagline2a: "告别订阅：",
                tagline2b: "AI功能，一次付费",
                tagline3header: "与其他工具不同",
                compare: [
                    { category: "Zoom, Google Meet, MS Teams" },
                    { them: "在每个应用中录制", us: "集于一处" },
                    { category: "WhatsApp, Telegram, Discord" },
                    { them: "无内置录制", us: "录制一切" },
                    { category: "Otter, Fireflies, Fathom" },
                    { them: "机器人入会", us: "无感录制" },
                    { them: "云端处理", us: "本地设备" },
                    { category: "Krisp, Tactiq" },
                    { them: "按月订阅", us: "一次付费" }
                ],
                code: "中",
                video: "iVJtTuE7H7Q",
                buyText: "购买 <span class=\"brand-name\">mono</span>",
                buyPrice: "$50 · 一次付费",
                buyNotes: ["支持 Mac 和 Windows", "终身更新", "在低配硬件上，本地AI可能运行较慢。您可以在不使用AI的情况下使用应用，或通过API连接外部服务商（OpenAI、Google Gemini）。", "您的购买支持独立开发。该应用尚未签名，因此您的系统可能会要求允许运行未验证的应用。"],
                privacyPolicy: "隐私政策"
            }
        };

        const langSelector = document.querySelector('.lang-selector');
        const langButton = document.querySelector('.lang-button');
        const langOptions = document.querySelectorAll('.lang-option');
        const tagline1a = group1.querySelector('.tagline:first-child');
        const tagline1b = group1.querySelector('.tagline:last-child');
        const tagline2a = group2.querySelector('.tagline:first-child');
        const tagline2b = group2.querySelector('.tagline:last-child');
        const compareTable = group3.querySelector('.compare-table');
        const videoIframe = videoContainer.querySelector('iframe');
        const privacyLink = document.querySelector('.privacy-link');

        let currentLang = 'en';

        langButton.addEventListener('click', (e) => {
            e.stopPropagation();
            langSelector.classList.toggle('open');
        });

        document.addEventListener('click', () => {
            langSelector.classList.remove('open');
        });

        langOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                if (lang === currentLang) {
                    langSelector.classList.remove('open');
                    return;
                }

                currentLang = lang;
                const t = translations[lang];

                // Update text
                logoSubtitle.textContent = t.subtitle;
                tagline1a.textContent = t.tagline1a;
                tagline1b.textContent = t.tagline1b;
                tagline2a.textContent = t.tagline2a;
                tagline2b.textContent = t.tagline2b;
                // Rebuild comparison table
                compareTable.innerHTML = '';
                t.compare.forEach(item => {
                    const tr = document.createElement('tr');
                    if (item.category) {
                        tr.className = 'category-row';
                        tr.innerHTML = `<td class="category" colspan="3">${item.category}</td>`;
                    } else {
                        tr.innerHTML = `<td class="them">${item.them}</td><td class="vs">→</td><td class="us">${item.us}</td>`;
                    }
                    compareTable.appendChild(tr);
                });
                langButton.textContent = t.code;
                privacyLink.textContent = t.privacyPolicy;

                // Update video (fallback to English if no video for this language)
                const videoId = t.video || translations.en.video;
                videoIframe.src = `https://www.youtube.com/embed/${videoId}?rel=0`;

                // Update buy button text
                buyText.innerHTML = t.buyText;
                buyPrice.textContent = t.buyPrice;
                const noteElements = buyNotesContainer.querySelectorAll('.buy-note');
                t.buyNotes.forEach((note, i) => {
                    if (noteElements[i]) noteElements[i].textContent = note;
                });

                // Update active state
                langOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');

                langSelector.classList.remove('open');

                // Check for text overflow after language change
                checkTaglineOverflow();
            });
        });

        // Check if taglines overflow the screen and add wrap class
        function checkTaglineOverflow() {
            const taglines = document.querySelectorAll('.tagline');
            const viewportWidth = window.innerWidth;

            taglines.forEach(tagline => {
                tagline.classList.remove('wrap-text');
                // Check if text is wider than viewport (with some margin)
                if (tagline.scrollWidth > viewportWidth - 40) {
                    tagline.classList.add('wrap-text');
                }
            });
        }

        // Check on load and resize
        window.addEventListener('resize', checkTaglineOverflow);
        document.fonts.ready.then(checkTaglineOverflow);
    </script>
</body>
</html>
